<!DOCTYPE html><html><head><title>profiler.coffee</title><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><link rel="stylesheet" media="all" href="../docco.css"></head><body><div id="container"><div id="background"></div><div id="jump_to">Jump To &hellip;<div id="jump_wrapper"><div id="jump_page"><a href="../index.html" class="source"><span class="file_name">README</span></a><a href="../core~/api_mock.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">api_mock.coffee</span></a><a href="../core~/application_controller.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">application_controller.coffee</span></a><a href="../core~/auth.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">auth.coffee</span></a><a href="../core~/base_collection.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">base_collection.coffee</span></a><a href="../core~/base_model.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">base_model.coffee</span></a><a href="../core~/base_widgets/autocomplete.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">autocomplete.coffee</span></a><a href="../core~/base_widgets/base_form.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">base_form.coffee</span></a><a href="../core~/base_widgets/delete_form.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">delete_form.coffee</span></a><a href="../core~/base_widgets/expanding_list.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">expanding_list.coffee</span></a><a href="../core~/base_widgets/item_count.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">item_count.coffee</span></a><a href="../core~/base_widgets/list.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">list.coffee</span></a><a href="../core~/base_widgets/mediator_widget.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">mediator_widget.coffee</span></a><a href="../core~/base_widgets/nested_attributes_form.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">nested_attributes_form.coffee</span></a><a href="../core~/base_widgets/new_items_count.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">new_items_count.coffee</span></a><a href="../core~/base_widgets/notification_bar.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">notification_bar.coffee</span></a><a href="../core~/base_widgets/notifications.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">notifications.coffee</span></a><a href="../core~/base_widgets/order_by.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">order_by.coffee</span></a><a href="../core~/base_widgets/update_form.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">update_form.coffee</span></a><a href="../core~/base_widgets/url.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">url.coffee</span></a><a href="../core~/base_widgets/user_item_count.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">user_item_count.coffee</span></a><a href="../core~/base_widgets/widget_editor.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">widget_editor.coffee</span></a><a href="../core~/channels_utils.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">channels_utils.coffee</span></a><a href="../core~/constants.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">constants.coffee</span></a><a href="../core~/context_processors.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">context_processors.coffee</span></a><a href="../core~/controller.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">controller.coffee</span></a><a href="../core~/core_modules.js.html" class="source "><span class="base_path">core~ / </span><span class="file_name">core_modules.js</span></a><a href="../core~/datasource/channel/create.coffee.html" class="source "><span class="base_path">core~ / datasource / channel / </span><span class="file_name">create.coffee</span></a><a href="../core~/datasource/channel/destroy.coffee.html" class="source "><span class="base_path">core~ / datasource / channel / </span><span class="file_name">destroy.coffee</span></a><a href="../core~/datasource/channel/read.coffee.html" class="source "><span class="base_path">core~ / datasource / channel / </span><span class="file_name">read.coffee</span></a><a href="../core~/datasource/channel/update.coffee.html" class="source "><span class="base_path">core~ / datasource / channel / </span><span class="file_name">update.coffee</span></a><a href="../core~/datasource/channel.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">channel.coffee</span></a><a href="../core~/datasource/datasource.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">datasource.coffee</span></a><a href="../core~/datasource/gc.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">gc.coffee</span></a><a href="../core~/datasource/refresher.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">refresher.coffee</span></a><a href="../core~/datasource/scheduler.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">scheduler.coffee</span></a><a href="../core~/datasource/widget.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">widget.coffee</span></a><a href="../core~/flags_collection.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">flags_collection.coffee</span></a><a href="../core~/interceptor.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">interceptor.coffee</span></a><a href="../core~/layout.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">layout.coffee</span></a><a href="../core~/loader.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">loader.coffee</span></a><a href="../core~/loading_animation.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">loading_animation.coffee</span></a><a href="../core~/logging/sentry_logger.coffee.html" class="source "><span class="base_path">core~ / logging / </span><span class="file_name">sentry_logger.coffee</span></a><a href="../core~/logging/standard_logger.coffee.html" class="source "><span class="base_path">core~ / logging / </span><span class="file_name">standard_logger.coffee</span></a><a href="../core~/mocks.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">mocks.coffee</span></a><a href="../core~/modal_window.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">modal_window.coffee</span></a><a href="../core~/module.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">module.coffee</span></a><a href="../core~/mozaic_backbone_form.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">mozaic_backbone_form.coffee</span></a><a href="../core~/profiler.coffee.html" class="source selected"><span class="base_path">core~ / </span><span class="file_name">profiler.coffee</span></a><a href="../core~/pubsub.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">pubsub.coffee</span></a><a href="../core~/raw_data.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">raw_data.coffee</span></a><a href="../core~/router.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">router.coffee</span></a><a href="../core~/scrollable_widget.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">scrollable_widget.coffee</span></a><a href="../core~/utils/dom.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">dom.coffee</span></a><a href="../core~/utils/images.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">images.coffee</span></a><a href="../core~/utils/misc.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">misc.coffee</span></a><a href="../core~/utils/mozaic.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">mozaic.coffee</span></a><a href="../core~/utils/time.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">time.coffee</span></a><a href="../core~/utils/urls.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">urls.coffee</span></a><a href="../core~/utils.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">utils.coffee</span></a><a href="../core~/widget/aggregated_channels.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">aggregated_channels.coffee</span></a><a href="../core~/widget/backbone_events.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">backbone_events.coffee</span></a><a href="../core~/widget/channels.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">channels.coffee</span></a><a href="../core~/widget/modal_widget.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">modal_widget.coffee</span></a><a href="../core~/widget/params.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">params.coffee</span></a><a href="../core~/widget/rendering.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">rendering.coffee</span></a><a href="../core~/widget/states.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">states.coffee</span></a><a href="../core~/widget/widget.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">widget.coffee</span></a><a href="../core~/widget_starter.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">widget_starter.coffee</span></a></div></div></div><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>profiler.coffee</h1><div class="filepath">core~/</div></th><th class="code"></th></tr></thead><tbody><tr id="section-1"><td class="docs"><div class="pilwrap"><a href="#section-1" class="pilcrow">&#182;</a></div><p>This module is a direct port of YUI.Profiler utility.
This version of the module removes dependency on YUI.Core,
however it requires Underscore.js
It was initially generated using http://js2coffee.org then modified to work.</p>

<p>See this page for documentation http://yuilibrary.com/yui/docs/profiler/</p>

<p>YUI 3.6.0 (build 5521)
Copyright 2012 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/</p>
</td><td class="code"><div class="highlight"><pre><span class="nx">define</span> <span class="p">[],</span> <span class="p">()</span> <span class="nf">-&gt;</span></pre></div></td></tr><tr id="section-2"><td class="docs"><div class="pilwrap"><a href="#section-2" class="pilcrow">&#182;</a></div><p>The YUI JavaScript profiler.
@module profiler</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-3"><td class="docs"><div class="pilwrap"><a href="#section-3" class="pilcrow">&#182;</a></div><hr />

<h2>Private Variables and Functions</h2>

<p>Container object on which to put the original unprofiled methods.
Profiling information for functions
Additional stopwatch information</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-4"><td class="docs"><div class="pilwrap"><a href="#section-4" class="pilcrow">&#182;</a></div><p>shortcuts</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nv">container = </span><span class="p">{}</span>
    <span class="nv">report = </span><span class="p">{}</span>
    <span class="nv">stopwatches = </span><span class="p">{}</span>
    <span class="nv">WATCH_STARTED = </span><span class="mi">0</span>
    <span class="nv">WATCH_STOPPED = </span><span class="mi">1</span>
    <span class="nv">WATCH_PAUSED = </span><span class="mi">2</span>


    <span class="nv">createReport = </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-5"><td class="docs"><div class="pilwrap"><a href="#section-5" class="pilcrow">&#182;</a></div><p>Creates a report object with the given name.
@param {String} name The name to store for the report object.
@return {Void}
@method createReport
@private</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span>
            <span class="nv">calls: </span><span class="mi">0</span>
            <span class="nv">max: </span><span class="mi">0</span>
            <span class="nv">min: </span><span class="mi">0</span>
            <span class="nv">avg: </span><span class="mi">0</span>
            <span class="nv">points: </span><span class="p">[]</span>

        <span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>



    <span class="nv">saveDataPoint = </span><span class="nf">(name, duration) -&gt;</span></pre></div></td></tr><tr id="section-6"><td class="docs"><div class="pilwrap"><a href="#section-6" class="pilcrow">&#182;</a></div><p>(intentionally not documented)
Called when a method ends execution. Marks the start and end time of the
method so it can calculate how long the function took to execute. Also
updates min/max/avg calculations for the function.
@param {String} name The name of the function to mark as stopped.
@param {int} duration The number of milliseconds it took the function to
execute.
@return {Void}
@method saveDataPoint
@private
@static</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-7"><td class="docs"><div class="pilwrap"><a href="#section-7" class="pilcrow">&#182;</a></div><p>get the function data</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nv">functionData = </span><span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="c1">#:Object</span></pre></div></td></tr><tr id="section-8"><td class="docs"><div class="pilwrap"><a href="#section-8" class="pilcrow">&#182;</a></div><p>just in case clear() was called</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nv">functionData = </span><span class="nx">createReport</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span>    <span class="k">unless</span> <span class="nx">functionData</span></pre></div></td></tr><tr id="section-9"><td class="docs"><div class="pilwrap"><a href="#section-9" class="pilcrow">&#182;</a></div><p>increment the calls</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">functionData</span><span class="p">.</span><span class="nx">calls</span><span class="o">++</span>
        <span class="nx">functionData</span><span class="p">.</span><span class="nx">points</span><span class="p">.</span><span class="nx">push</span> <span class="nx">duration</span></pre></div></td></tr><tr id="section-10"><td class="docs"><div class="pilwrap"><a href="#section-10" class="pilcrow">&#182;</a></div><p>if it's already been called at least once, do more complex calculations</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">if</span> <span class="nx">functionData</span><span class="p">.</span><span class="nx">calls</span> <span class="o">&gt;</span> <span class="mi">1</span>
            <span class="nv">functionData.avg = </span><span class="p">((</span><span class="nx">functionData</span><span class="p">.</span><span class="nx">avg</span> <span class="o">*</span> <span class="p">(</span><span class="nx">functionData</span><span class="p">.</span><span class="nx">calls</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="nx">duration</span><span class="p">)</span> <span class="o">/</span> <span class="nx">functionData</span><span class="p">.</span><span class="nx">calls</span>
            <span class="nv">functionData.min = </span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">functionData</span><span class="p">.</span><span class="nx">min</span><span class="p">,</span> <span class="nx">duration</span><span class="p">)</span>
            <span class="nv">functionData.max = </span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">functionData</span><span class="p">.</span><span class="nx">max</span><span class="p">,</span> <span class="nx">duration</span><span class="p">)</span>
        <span class="k">else</span>
            <span class="nv">functionData.avg = </span><span class="nx">duration</span>
            <span class="nv">functionData.min = </span><span class="nx">duration</span>
            <span class="nv">functionData.max = </span><span class="nx">duration</span></pre></div></td></tr><tr id="section-11"><td class="docs"><div class="pilwrap"><a href="#section-11" class="pilcrow">&#182;</a></div><hr />

<h2>Public Interface</h2>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-12"><td class="docs"><div class="pilwrap"><a href="#section-12" class="pilcrow">&#182;</a></div><p>Profiles functions in JavaScript.
@class Profiler
@static</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">class</span> <span class="nx">Profiler</span>

        <span class="nv">initialize: </span><span class="nf">-&gt;</span></pre></div></td></tr><tr id="section-13"><td class="docs"><div class="pilwrap"><a href="#section-13" class="pilcrow">&#182;</a></div><hr />

<h2>Utility Methods</h2>
</td><td class="code"><div class="highlight"><pre>        <span class="nv">clear: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-14"><td class="docs"><div class="pilwrap"><a href="#section-14" class="pilcrow">&#182;</a></div><p>Removes all report data from the profiler.
@param {String} name (Optional) The name of the report to clear. If
omitted, then all report data is cleared.
@return {Void}
@method clear
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span>
                <span class="k">delete</span> <span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>

                <span class="k">delete</span> <span class="nx">stopwatches</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>
            <span class="k">else</span>
                <span class="nv">report = </span><span class="p">{}</span>
                <span class="nv">stopwatches = </span><span class="p">{}</span>


        <span class="nv">getOriginal: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-15"><td class="docs"><div class="pilwrap"><a href="#section-15" class="pilcrow">&#182;</a></div><p>Returns the uninstrumented version of a function/object.
@param {String} name The name of the function/object to retrieve.
@return {Function|Object} The uninstrumented version of a function/object.
@method getOriginal
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>



        <span class="nv">instrument: </span><span class="nf">(name, method) -&gt;</span></pre></div></td></tr><tr id="section-16"><td class="docs"><div class="pilwrap"><a href="#section-16" class="pilcrow">&#182;</a></div><p>Instruments a method to have profiling calls.
@param {String} name The name of the report for the function.
@param {Function} method The function to instrument.
@return {Function} An instrumented version of the function.
@method instrument
@static</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-17"><td class="docs"><div class="pilwrap"><a href="#section-17" class="pilcrow">&#182;</a></div><p>create instrumented version of function</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">newMethod = </span><span class="nf">-&gt;</span>
                <span class="nv">start = </span><span class="k">new</span> <span class="nb">Date</span><span class="p">()</span>
                <span class="nv">retval = </span><span class="nx">method</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments_</span><span class="p">)</span>
                <span class="nv">stop = </span><span class="k">new</span> <span class="nb">Date</span><span class="p">()</span>
                <span class="nx">saveDataPoint</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">stop</span> <span class="o">-</span> <span class="nx">start</span>
                <span class="nx">retval</span></pre></div></td></tr><tr id="section-18"><td class="docs"><div class="pilwrap"><a href="#section-18" class="pilcrow">&#182;</a></div><p>copy the function properties over</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">_</span><span class="p">.</span><span class="nx">extend</span> <span class="nx">newMethod</span><span class="p">,</span> <span class="nx">method</span></pre></div></td></tr><tr id="section-19"><td class="docs"><div class="pilwrap"><a href="#section-19" class="pilcrow">&#182;</a></div><p>assign prototype and flag as being profiled</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">newMethod.__yuiProfiled = </span><span class="kc">true</span>
            <span class="nv">newMethod:: = method::</span></pre></div></td></tr><tr id="section-20"><td class="docs"><div class="pilwrap"><a href="#section-20" class="pilcrow">&#182;</a></div><p>store original method</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">method</span>
            <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nv">__yuiFuncName = </span><span class="nx">name</span></pre></div></td></tr><tr id="section-21"><td class="docs"><div class="pilwrap"><a href="#section-21" class="pilcrow">&#182;</a></div><p>create the report</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">createReport</span> <span class="nx">name</span></pre></div></td></tr><tr id="section-22"><td class="docs"><div class="pilwrap"><a href="#section-22" class="pilcrow">&#182;</a></div><p>return the new method</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">newMethod</span></pre></div></td></tr><tr id="section-23"><td class="docs"><div class="pilwrap"><a href="#section-23" class="pilcrow">&#182;</a></div><hr />

<h2>Stopwatch Methods</h2>
</td><td class="code"><div class="highlight"><pre>        <span class="nv">pause: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-24"><td class="docs"><div class="pilwrap"><a href="#section-24" class="pilcrow">&#182;</a></div><p>Pauses profiling information for a given name.
@param {String} name The name of the data point.
@return {Void}
@method pause
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">now = </span><span class="k">new</span> <span class="nb">Date</span><span class="p">()</span>
            <span class="nv">stopwatch = </span><span class="nx">stopwatches</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>
            <span class="k">if</span> <span class="nx">stopwatch</span> <span class="o">and</span> <span class="nx">stopwatch</span><span class="p">.</span><span class="nx">state</span> <span class="o">is</span> <span class="nx">WATCH_STARTED</span>
                <span class="nx">stopwatch</span><span class="p">.</span><span class="nx">total</span> <span class="o">+=</span> <span class="p">(</span><span class="nx">now</span> <span class="o">-</span> <span class="nx">stopwatch</span><span class="p">.</span><span class="nx">start</span><span class="p">)</span>
                <span class="nv">stopwatch.start = </span><span class="mi">0</span>
                <span class="nv">stopwatch.state = </span><span class="nx">WATCH_PAUSED</span>


        <span class="nv">start: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-25"><td class="docs"><div class="pilwrap"><a href="#section-25" class="pilcrow">&#182;</a></div><p>Start profiling information for a given name. The name cannot be the name
of a registered function or object. This is used to start timing for a
particular block of code rather than instrumenting the entire function.
@param {String} name The name of the data point.
@return {Void}
@method start
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s">&quot;Cannot use &#39;&quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s">&quot;&#39; for profiling through start(), name is already in use.&quot;</span><span class="p">)</span>
            <span class="k">else</span></pre></div></td></tr><tr id="section-26"><td class="docs"><div class="pilwrap"><a href="#section-26" class="pilcrow">&#182;</a></div><p>create report if necessary</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nx">createReport</span> <span class="nx">name</span>    <span class="k">unless</span> <span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span></pre></div></td></tr><tr id="section-27"><td class="docs"><div class="pilwrap"><a href="#section-27" class="pilcrow">&#182;</a></div><p>create stopwatch object if necessary</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">unless</span> <span class="nx">stopwatches</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>
                    <span class="nx">stopwatches</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span>
                        <span class="nv">state: </span><span class="nx">WATCH_STOPPED</span>
                        <span class="nv">start: </span><span class="mi">0</span>
                        <span class="nv">total: </span><span class="mi">0</span>
                <span class="k">if</span> <span class="nx">stopwatches</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">state</span> <span class="o">is</span> <span class="nx">WATCH_STOPPED</span>
                    <span class="nx">stopwatches</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nv">state = </span><span class="nx">WATCH_STARTED</span>
                    <span class="nx">stopwatches</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nv">start = </span><span class="k">new</span> <span class="nb">Date</span><span class="p">()</span>


        <span class="nv">stop: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-28"><td class="docs"><div class="pilwrap"><a href="#section-28" class="pilcrow">&#182;</a></div><p>Stops profiling information for a given name.
@param {String} name The name of the data point.
@return {Void}
@method stop
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">now = </span><span class="k">new</span> <span class="nb">Date</span><span class="p">()</span>
            <span class="nv">stopwatch = </span><span class="nx">stopwatches</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>
            <span class="k">if</span> <span class="nx">stopwatch</span>
                <span class="k">if</span> <span class="nx">stopwatch</span><span class="p">.</span><span class="nx">state</span> <span class="o">is</span> <span class="nx">WATCH_STARTED</span>
                    <span class="nx">saveDataPoint</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">stopwatch</span><span class="p">.</span><span class="nx">total</span> <span class="o">+</span> <span class="p">(</span><span class="nx">now</span> <span class="o">-</span> <span class="nx">stopwatch</span><span class="p">.</span><span class="nx">start</span><span class="p">)</span>
                <span class="k">else</span> <span class="nx">saveDataPoint</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">stopwatch</span><span class="p">.</span><span class="nx">total</span>    <span class="k">if</span> <span class="nx">stopwatch</span><span class="p">.</span><span class="nx">state</span> <span class="o">is</span> <span class="nx">WATCH_PAUSED</span></pre></div></td></tr><tr id="section-29"><td class="docs"><div class="pilwrap"><a href="#section-29" class="pilcrow">&#182;</a></div><p>reset stopwatch information</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nv">stopwatch.start = </span><span class="mi">0</span>
                <span class="nv">stopwatch.total = </span><span class="mi">0</span>
                <span class="nv">stopwatch.state = </span><span class="nx">WATCH_STOPPED</span></pre></div></td></tr><tr id="section-30"><td class="docs"><div class="pilwrap"><a href="#section-30" class="pilcrow">&#182;</a></div><hr />

<h2>Reporting Methods</h2>
</td><td class="code"><div class="highlight"><pre>        <span class="nv">getAverage: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-31"><td class="docs"><div class="pilwrap"><a href="#section-31" class="pilcrow">&#182;</a></div><p>Returns the average amount of time (in milliseconds) that the function
with the given name takes to execute.
@param {String} name The name of the function whose data should be returned.
If an object type method, it should be 'constructor.prototype.methodName';
a normal object method would just be 'object.methodName'.
@return {float} The average time it takes the function to execute.
@method getAverage
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">avg</span>


        <span class="nv">getCallCount: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-32"><td class="docs"><div class="pilwrap"><a href="#section-32" class="pilcrow">&#182;</a></div><p>Returns the number of times that the given function has been called.
@param {String} name The name of the function whose data should be returned.
@return {int} The number of times the function was called.
@method getCallCount
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">calls</span>


        <span class="nv">getMax: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-33"><td class="docs"><div class="pilwrap"><a href="#section-33" class="pilcrow">&#182;</a></div><p>Returns the maximum amount of time (in milliseconds) that the function
with the given name takes to execute.
@param {String} name The name of the function whose data should be returned.
If an object type method, it should be 'constructor.prototype.methodName';
a normal object method would just be 'object.methodName'.
@return {float} The maximum time it takes the function to execute.
@method getMax
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">max</span>


        <span class="nv">getMin: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-34"><td class="docs"><div class="pilwrap"><a href="#section-34" class="pilcrow">&#182;</a></div><p>Returns the minimum amount of time (in milliseconds) that the function
with the given name takes to execute.
@param {String} name The name of the function whose data should be returned.
If an object type method, it should be 'constructor.prototype.methodName';
a normal object method would just be 'object.methodName'.
@return {float} The minimum time it takes the function to execute.
@method getMin
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">min</span>


        <span class="nv">getFunctionReport: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-35"><td class="docs"><div class="pilwrap"><a href="#section-35" class="pilcrow">&#182;</a></div><p>Returns an object containing profiling data for a single function.
The object has an entry for min, max, avg, calls, and points).
@return {Object} An object containing profile data for a given function.
@method getFunctionReport
@static
@deprecated Use getReport() instead.</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>


        <span class="nv">getReport: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-36"><td class="docs"><div class="pilwrap"><a href="#section-36" class="pilcrow">&#182;</a></div><p>Returns an object containing profiling data for a single function.
The object has an entry for min, max, avg, calls, and points).
@return {Object} An object containing profile data for a given function.
@method getReport
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>


        <span class="nv">getFullReport: </span><span class="nf">(filter) -&gt;</span></pre></div></td></tr><tr id="section-37"><td class="docs"><div class="pilwrap"><a href="#section-37" class="pilcrow">&#182;</a></div><p>Returns an object containing profiling data for all of the functions
that were profiled. The object has an entry for each function and
returns all information (min, max, average, calls, etc.) for each
function.
@return {Object} An object containing all profile data.
@method getFullReport
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">filter = </span><span class="nx">filter</span> <span class="o">or</span> <span class="nf">-&gt;</span>
                <span class="kc">true</span>

            <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">filter</span><span class="p">)</span>
                <span class="nv">fullReport = </span><span class="p">{}</span>
                <span class="k">for</span> <span class="nx">name</span> <span class="k">of</span> <span class="nx">report</span>
                    <span class="nx">fullReport</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>    <span class="k">if</span> <span class="nx">filter</span><span class="p">(</span><span class="nx">report</span><span class="p">[</span><span class="nx">name</span><span class="p">])</span>
                <span class="nx">fullReport</span></pre></div></td></tr><tr id="section-38"><td class="docs"><div class="pilwrap"><a href="#section-38" class="pilcrow">&#182;</a></div><hr />

<h2>Profiling Methods</h2>
</td><td class="code"><div class="highlight"><pre>        <span class="nv">registerConstructor: </span><span class="nf">(name, owner) -&gt;</span></pre></div></td></tr><tr id="section-39"><td class="docs"><div class="pilwrap"><a href="#section-39" class="pilcrow">&#182;</a></div><p>Sets up a constructor for profiling, including all properties and methods on the prototype.
@param {string} name The fully-qualified name of the function including namespace information.
@param {Object} owner (Optional) The object that owns the function (namespace or containing object).
@return {Void}
@method registerConstructor
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">@registerFunction</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">owner</span><span class="p">,</span> <span class="kc">true</span>


        <span class="nv">registerFunction: </span><span class="nf">(name, owner, registerPrototype) -&gt;</span></pre></div></td></tr><tr id="section-40"><td class="docs"><div class="pilwrap"><a href="#section-40" class="pilcrow">&#182;</a></div><p>Sets up a function for profiling. It essentially overwrites the function with one
that has instrumentation data. This method also creates an entry for the function
in the profile report. The original function is stored on the container object.
@param {String} name The full name of the function including namespacing. This
is the name of the function that is stored in the report.
@param {Object} owner (Optional) The object that owns the function. If the function
isn't global then this argument is required. This could be the namespace that
the function belongs to or the object on which it's
a method.
@param {Boolean} registerPrototype (Optional) Indicates that the prototype should
also be instrumented. Setting to true has the same effect as calling
registerConstructor().
@return {Void}
@method registerFunction
@static</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-41"><td class="docs"><div class="pilwrap"><a href="#section-41" class="pilcrow">&#182;</a></div><p>figure out the function name without namespacing</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">funcName = </span><span class="p">((</span><span class="k">if</span> <span class="nx">name</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="k">then</span> <span class="nx">name</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">else</span> <span class="nx">name</span><span class="p">))</span>
            <span class="nv">method = </span><span class="kc">undefined</span>
            <span class="nv">prototype = </span><span class="kc">undefined</span></pre></div></td></tr><tr id="section-42"><td class="docs"><div class="pilwrap"><a href="#section-42" class="pilcrow">&#182;</a></div><p>if owner isn't an object, try to find it from the name</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">owner = </span><span class="nx">eval_</span><span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">name</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">)))</span>    <span class="k">unless</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span><span class="p">(</span><span class="nx">owner</span><span class="p">)</span></pre></div></td></tr><tr id="section-43"><td class="docs"><div class="pilwrap"><a href="#section-43" class="pilcrow">&#182;</a></div><p>get the method and prototype</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">method = </span><span class="nx">owner</span><span class="p">[</span><span class="nx">funcName</span><span class="p">]</span>
            <span class="nv">prototype = method::</span></pre></div></td></tr><tr id="section-44"><td class="docs"><div class="pilwrap"><a href="#section-44" class="pilcrow">&#182;</a></div><p>see if the method has already been registered</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">method</span><span class="p">)</span> <span class="o">and</span> <span class="o">not</span> <span class="nx">method</span><span class="p">.</span><span class="nx">__yuiProfiled</span></pre></div></td></tr><tr id="section-45"><td class="docs"><div class="pilwrap"><a href="#section-45" class="pilcrow">&#182;</a></div><p>replace the function with the profiling one</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nx">owner</span><span class="p">[</span><span class="nx">funcName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">@instrument</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">method</span><span class="p">)</span></pre></div></td></tr><tr id="section-46"><td class="docs"><div class="pilwrap"><a href="#section-46" class="pilcrow">&#182;</a></div><p>Store original function information. We store the actual
function as well as the owner and the name used to identify
the function so it can be restored later.</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nv">__yuiOwner = </span><span class="nx">owner</span>
                <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nv">__yuiFuncName = </span><span class="nx">funcName</span> <span class="c1">#overwrite with less-specific name</span></pre></div></td></tr><tr id="section-47"><td class="docs"><div class="pilwrap"><a href="#section-47" class="pilcrow">&#182;</a></div><p>register prototype if necessary</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nx">@registerObject</span> <span class="nx">name</span> <span class="o">+</span> <span class="s">&quot;.prototype&quot;</span><span class="p">,</span> <span class="nx">prototype</span>    <span class="k">if</span> <span class="nx">registerPrototype</span>


        <span class="nv">registerObject: </span><span class="nf">(name, object, recurse) -&gt;</span></pre></div></td></tr><tr id="section-48"><td class="docs"><div class="pilwrap"><a href="#section-48" class="pilcrow">&#182;</a></div><p>Sets up an object for profiling. It takes the object and looks for functions.
When a function is found, registerMethod() is called on it. If set to recrusive
mode, it will also setup objects found inside of this object for profiling,
using the same methodology.
@param {String} name The name of the object to profile (shows up in report).
@param {Object} owner (Optional) The object represented by the name.
@param {Boolean} recurse (Optional) Determines if subobject methods are also profiled.
@return {Void}
@method registerObject
@static</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-49"><td class="docs"><div class="pilwrap"><a href="#section-49" class="pilcrow">&#182;</a></div><p>get the object</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">object = </span><span class="p">((</span><span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="k">then</span> <span class="nx">object</span> <span class="k">else</span> <span class="nx">eval_</span><span class="p">(</span><span class="nx">name</span><span class="p">)))</span></pre></div></td></tr><tr id="section-50"><td class="docs"><div class="pilwrap"><a href="#section-50" class="pilcrow">&#182;</a></div><p>save the object</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">object</span>
            <span class="k">for</span> <span class="nx">prop</span> <span class="k">of</span> <span class="nx">object</span>
                <span class="k">if</span> <span class="k">typeof</span> <span class="nx">object</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">is</span> <span class="s">&quot;function&quot;</span></pre></div></td></tr><tr id="section-51"><td class="docs"><div class="pilwrap"><a href="#section-51" class="pilcrow">&#182;</a></div><p>don't do constructor or superclass, it's recursive</p>
</td><td class="code"><div class="highlight"><pre>                    <span class="nx">@registerFunction</span> <span class="nx">name</span> <span class="o">+</span> <span class="s">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">object</span>    <span class="k">if</span> <span class="nx">prop</span> <span class="o">isnt</span> <span class="s">&quot;constructor&quot;</span> <span class="o">and</span> <span class="nx">prop</span> <span class="o">isnt</span> <span class="s">&quot;superclass&quot;</span>
                <span class="k">else</span> <span class="nx">@registerObject</span> <span class="nx">name</span> <span class="o">+</span> <span class="s">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">object</span><span class="p">[</span><span class="nx">prop</span><span class="p">],</span> <span class="nx">recurse</span>    <span class="k">if</span> <span class="k">typeof</span> <span class="nx">object</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">is</span> <span class="s">&quot;object&quot;</span> <span class="o">and</span> <span class="nx">recurse</span>


        <span class="nv">unregisterConstructor: </span><span class="nf">(name) -&gt;</span></pre></div></td></tr><tr id="section-52"><td class="docs"><div class="pilwrap"><a href="#section-52" class="pilcrow">&#182;</a></div><p>Removes a constructor function from profiling. Reverses the registerConstructor() method.
@param {String} name The full name of the function including namespacing. This
is the name of the function that is stored in the report.
@return {Void}
@method unregisterFunction
@static</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-53"><td class="docs"><div class="pilwrap"><a href="#section-53" class="pilcrow">&#182;</a></div><p>see if the method has been registered</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">@unregisterFunction</span> <span class="nx">name</span><span class="p">,</span> <span class="kc">true</span>    <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">])</span>


        <span class="nv">unregisterFunction: </span><span class="nf">(name, unregisterPrototype) -&gt;</span></pre></div></td></tr><tr id="section-54"><td class="docs"><div class="pilwrap"><a href="#section-54" class="pilcrow">&#182;</a></div><p>Removes function from profiling. Reverses the registerFunction() method.
@param {String} name The full name of the function including namespacing. This
is the name of the function that is stored in the report.
@return {Void}
@method unregisterFunction
@static</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-55"><td class="docs"><div class="pilwrap"><a href="#section-55" class="pilcrow">&#182;</a></div><p>see if the method has been registered</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">])</span></pre></div></td></tr><tr id="section-56"><td class="docs"><div class="pilwrap"><a href="#section-56" class="pilcrow">&#182;</a></div><p>check to see if you should unregister the prototype</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nx">@unregisterObject</span> <span class="nx">name</span> <span class="o">+</span> <span class="s">&quot;.prototype&quot;</span><span class="p">,</span> <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span><span class="o">::</span>    <span class="k">if</span> <span class="nx">unregisterPrototype</span></pre></div></td></tr><tr id="section-57"><td class="docs"><div class="pilwrap"><a href="#section-57" class="pilcrow">&#182;</a></div><p>get original data</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nv">owner = </span><span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">__yuiOwner</span> <span class="c1">#:Object</span>
                <span class="nv">funcName = </span><span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">__yuiFuncName</span> <span class="c1">#:String</span></pre></div></td></tr><tr id="section-58"><td class="docs"><div class="pilwrap"><a href="#section-58" class="pilcrow">&#182;</a></div><p>delete extra information</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">delete</span> <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">__yuiOwner</span>

                <span class="k">delete</span> <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">__yuiFuncName</span></pre></div></td></tr><tr id="section-59"><td class="docs"><div class="pilwrap"><a href="#section-59" class="pilcrow">&#182;</a></div><p>replace instrumented function</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nx">owner</span><span class="p">[</span><span class="nx">funcName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span></pre></div></td></tr><tr id="section-60"><td class="docs"><div class="pilwrap"><a href="#section-60" class="pilcrow">&#182;</a></div><p>delete supporting information</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">delete</span> <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>


        <span class="nv">unregisterObject: </span><span class="nf">(name, recurse) -&gt;</span></pre></div></td></tr><tr id="section-61"><td class="docs"><div class="pilwrap"><a href="#section-61" class="pilcrow">&#182;</a></div><p>Unregisters an object for profiling. It takes the object and looks for functions.
When a function is found, unregisterMethod() is called on it. If set to recrusive
mode, it will also unregister objects found inside of this object,
using the same methodology.
@param {String} name The name of the object to unregister.
@param {Boolean} recurse (Optional) Determines if subobject methods should also be
unregistered.
@return {Void}
@method unregisterObject
@static</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span><span class="p">(</span><span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">])</span>
                <span class="nv">object = </span><span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>
                <span class="k">for</span> <span class="nx">prop</span> <span class="k">of</span> <span class="nx">object</span>
                    <span class="k">if</span> <span class="k">typeof</span> <span class="nx">object</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">is</span> <span class="s">&quot;function&quot;</span>
                        <span class="nx">@unregisterFunction</span> <span class="nx">name</span> <span class="o">+</span> <span class="s">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">prop</span>
                    <span class="k">else</span> <span class="nx">@unregisterObject</span> <span class="nx">name</span> <span class="o">+</span> <span class="s">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">recurse</span>    <span class="k">if</span> <span class="k">typeof</span> <span class="nx">object</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">is</span> <span class="s">&quot;object&quot;</span> <span class="o">and</span> <span class="nx">recurse</span>
                <span class="k">delete</span> <span class="nx">container</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>


        <span class="nv">topSlowestWidgets: </span><span class="nf">(count) -&gt;</span></pre></div></td></tr><tr id="section-62"><td class="docs"><div class="pilwrap"><a href="#section-62" class="pilcrow">&#182;</a></div><p>Method sorts the widgets by the slowest time to render
@param {Number} count - if set it outputs only the first <count> slowest widgets
@return {Array}</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">top = </span><span class="nx">_</span><span class="p">.</span><span class="nx">chain</span><span class="p">(</span><span class="nx">@getFullReport</span><span class="p">())</span>
                <span class="p">.</span><span class="nx">map</span> <span class="nf">(metrics, widgetName) -&gt;</span>
                    <span class="nv">metrics.widgetName = </span><span class="nx">widgetName</span>
                    <span class="k">return</span> <span class="nx">metrics</span>
                <span class="p">.</span><span class="nx">sortBy</span> <span class="nf">(metrics, widgetName) -&gt;</span>
                    <span class="o">-</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">max</span>
                <span class="p">.</span><span class="nx">value</span><span class="p">()</span>

            <span class="nv">count = </span><span class="nx">count</span> <span class="o">?</span> <span class="nx">top</span><span class="p">.</span><span class="nx">length</span>
            <span class="nx">top</span><span class="p">.</span><span class="nx">slice</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">count</span>


    <span class="k">return</span> <span class="nx">Profiler</span>

</pre></div></td></tr></tbody></table><div id="generated">generated Mon Aug 05 2013 15:56:41 GMT+0300 (EEST)  </div></div></body></html>