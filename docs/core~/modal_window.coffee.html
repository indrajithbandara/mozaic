<!DOCTYPE html><html><head><title>modal_window.coffee</title><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><link rel="stylesheet" media="all" href="../docco.css"></head><body><div id="container"><div id="background"></div><div id="jump_to">Jump To &hellip;<div id="jump_wrapper"><div id="jump_page"><a href="../index.html" class="source"><span class="file_name">README</span></a><a href="../core~/api_mock.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">api_mock.coffee</span></a><a href="../core~/application_controller.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">application_controller.coffee</span></a><a href="../core~/auth.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">auth.coffee</span></a><a href="../core~/base_collection.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">base_collection.coffee</span></a><a href="../core~/base_model.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">base_model.coffee</span></a><a href="../core~/base_widgets/autocomplete.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">autocomplete.coffee</span></a><a href="../core~/base_widgets/base_form.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">base_form.coffee</span></a><a href="../core~/base_widgets/delete_form.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">delete_form.coffee</span></a><a href="../core~/base_widgets/expanding_list.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">expanding_list.coffee</span></a><a href="../core~/base_widgets/item_count.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">item_count.coffee</span></a><a href="../core~/base_widgets/list.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">list.coffee</span></a><a href="../core~/base_widgets/mediator_widget.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">mediator_widget.coffee</span></a><a href="../core~/base_widgets/nested_attributes_form.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">nested_attributes_form.coffee</span></a><a href="../core~/base_widgets/new_items_count.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">new_items_count.coffee</span></a><a href="../core~/base_widgets/notification_bar.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">notification_bar.coffee</span></a><a href="../core~/base_widgets/notifications.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">notifications.coffee</span></a><a href="../core~/base_widgets/order_by.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">order_by.coffee</span></a><a href="../core~/base_widgets/update_form.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">update_form.coffee</span></a><a href="../core~/base_widgets/url.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">url.coffee</span></a><a href="../core~/base_widgets/user_item_count.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">user_item_count.coffee</span></a><a href="../core~/base_widgets/widget_editor.coffee.html" class="source "><span class="base_path">core~ / base_widgets / </span><span class="file_name">widget_editor.coffee</span></a><a href="../core~/channels_utils.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">channels_utils.coffee</span></a><a href="../core~/constants.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">constants.coffee</span></a><a href="../core~/context_processors.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">context_processors.coffee</span></a><a href="../core~/controller.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">controller.coffee</span></a><a href="../core~/core_modules.js.html" class="source "><span class="base_path">core~ / </span><span class="file_name">core_modules.js</span></a><a href="../core~/datasource/channel/create.coffee.html" class="source "><span class="base_path">core~ / datasource / channel / </span><span class="file_name">create.coffee</span></a><a href="../core~/datasource/channel/destroy.coffee.html" class="source "><span class="base_path">core~ / datasource / channel / </span><span class="file_name">destroy.coffee</span></a><a href="../core~/datasource/channel/read.coffee.html" class="source "><span class="base_path">core~ / datasource / channel / </span><span class="file_name">read.coffee</span></a><a href="../core~/datasource/channel/update.coffee.html" class="source "><span class="base_path">core~ / datasource / channel / </span><span class="file_name">update.coffee</span></a><a href="../core~/datasource/channel.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">channel.coffee</span></a><a href="../core~/datasource/datasource.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">datasource.coffee</span></a><a href="../core~/datasource/gc.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">gc.coffee</span></a><a href="../core~/datasource/refresher.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">refresher.coffee</span></a><a href="../core~/datasource/scheduler.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">scheduler.coffee</span></a><a href="../core~/datasource/widget.coffee.html" class="source "><span class="base_path">core~ / datasource / </span><span class="file_name">widget.coffee</span></a><a href="../core~/flags_collection.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">flags_collection.coffee</span></a><a href="../core~/interceptor.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">interceptor.coffee</span></a><a href="../core~/layout.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">layout.coffee</span></a><a href="../core~/loader.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">loader.coffee</span></a><a href="../core~/loading_animation.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">loading_animation.coffee</span></a><a href="../core~/logging/sentry_logger.coffee.html" class="source "><span class="base_path">core~ / logging / </span><span class="file_name">sentry_logger.coffee</span></a><a href="../core~/logging/standard_logger.coffee.html" class="source "><span class="base_path">core~ / logging / </span><span class="file_name">standard_logger.coffee</span></a><a href="../core~/mocks.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">mocks.coffee</span></a><a href="../core~/modal_window.coffee.html" class="source selected"><span class="base_path">core~ / </span><span class="file_name">modal_window.coffee</span></a><a href="../core~/module.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">module.coffee</span></a><a href="../core~/mozaic_backbone_form.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">mozaic_backbone_form.coffee</span></a><a href="../core~/profiler.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">profiler.coffee</span></a><a href="../core~/pubsub.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">pubsub.coffee</span></a><a href="../core~/raw_data.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">raw_data.coffee</span></a><a href="../core~/router.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">router.coffee</span></a><a href="../core~/scrollable_widget.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">scrollable_widget.coffee</span></a><a href="../core~/utils/dom.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">dom.coffee</span></a><a href="../core~/utils/images.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">images.coffee</span></a><a href="../core~/utils/misc.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">misc.coffee</span></a><a href="../core~/utils/mozaic.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">mozaic.coffee</span></a><a href="../core~/utils/time.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">time.coffee</span></a><a href="../core~/utils/urls.coffee.html" class="source "><span class="base_path">core~ / utils / </span><span class="file_name">urls.coffee</span></a><a href="../core~/utils.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">utils.coffee</span></a><a href="../core~/widget/aggregated_channels.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">aggregated_channels.coffee</span></a><a href="../core~/widget/backbone_events.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">backbone_events.coffee</span></a><a href="../core~/widget/channels.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">channels.coffee</span></a><a href="../core~/widget/modal_widget.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">modal_widget.coffee</span></a><a href="../core~/widget/params.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">params.coffee</span></a><a href="../core~/widget/rendering.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">rendering.coffee</span></a><a href="../core~/widget/states.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">states.coffee</span></a><a href="../core~/widget/widget.coffee.html" class="source "><span class="base_path">core~ / widget / </span><span class="file_name">widget.coffee</span></a><a href="../core~/widget_starter.coffee.html" class="source "><span class="base_path">core~ / </span><span class="file_name">widget_starter.coffee</span></a></div></div></div><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>modal_window.coffee</h1><div class="filepath">core~/</div></th><th class="code"></th></tr></thead><tbody><tr id="section-1"><td class="docs"><div class="pilwrap"><a href="#section-1" class="pilcrow">&#182;</a></div>
</td><td class="code"><div class="highlight"><pre><span class="nx">define</span> <span class="p">[</span><span class="s">&#39;cs!mozaic_module&#39;</span><span class="p">,</span> <span class="s">&#39;cs!loader&#39;</span><span class="p">],</span> <span class="nf">(Module) -&gt;</span>
    <span class="k">class</span> <span class="nx">ModalWindow</span> <span class="k">extends</span> <span class="nx">Module</span></pre></div></td></tr><tr id="section-2"><td class="docs"><div class="pilwrap"><a href="#section-2" class="pilcrow">&#182;</a></div><p>Wrapper over a modal window already inserted in the DOM.
This module is instantiated only once (it's a singleton) and
it's displayed every time a new event arrives on the /modal
channel</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-3"><td class="docs"><div class="pilwrap"><a href="#section-3" class="pilcrow">&#182;</a></div><p>To control this widget one can use the following events:
1. pipe.trigger '/modal' - to make the modal show up
2. pipe.trigger '/closemodal' - to hide the modal
3. pipe.on '/modalshown' - to be notified when the modal and i't containing widget are rendered
4. pipe.on '/modalclosed' - to be notified when the modal is hidden and it's containing widget is deleted</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">constructor</span> <span class="o">:</span><span class="nf">-&gt;</span>
            <span class="k">super</span><span class="p">()</span>

        <span class="nv">initialize: </span><span class="o">=&gt;</span>
            <span class="nx">@setup</span><span class="p">()</span>
            <span class="nx">@setupEvents</span><span class="p">()</span>

        <span class="nv">setup: </span><span class="nf">-&gt;</span></pre></div></td></tr><tr id="section-4"><td class="docs"><div class="pilwrap"><a href="#section-4" class="pilcrow">&#182;</a></div><p>Setup instance variables required later on</p>
</td><td class="code"><div class="highlight"><pre>            <span class="vi">@pipe = </span><span class="nx">loader</span><span class="p">.</span><span class="nx">get_module</span><span class="p">(</span><span class="s">&#39;pubsub&#39;</span><span class="p">)</span></pre></div></td></tr><tr id="section-5"><td class="docs"><div class="pilwrap"><a href="#section-5" class="pilcrow">&#182;</a></div><p>Shortcuts for the modal div and it's body and title
div elements</p>
</td><td class="code"><div class="highlight"><pre>            <span class="vi">@modal = </span><span class="nx">$</span><span class="p">(</span><span class="s">&#39;#modal&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="o">not</span> <span class="nx">@modal</span>
                <span class="k">throw</span><span class="p">(</span><span class="s">&#39;Missing modal html. Insert it in your base template&#39;</span><span class="p">)</span>

            <span class="vi">@body = </span><span class="nx">@modal</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s">&#39;.modal-body&#39;</span><span class="p">)</span>
            <span class="vi">@title = </span><span class="nx">@modal</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s">&#39;.modal-title&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="o">not</span> <span class="nx">@body</span> <span class="o">or</span> <span class="o">not</span> <span class="nx">@title</span>
                <span class="k">throw</span><span class="p">(</span><span class="s">&#39;Malformed modal html. Use Twitter bootstrap modal format&#39;</span><span class="p">)</span>

            <span class="vi">@defaultModalParams =</span>
                <span class="nv">backdrop: </span><span class="s">&#39;static&#39;</span>
                <span class="nv">keyboard: </span><span class="kc">false</span>
                <span class="nv">show: </span><span class="kc">true</span>
                <span class="nv">remote: </span><span class="kc">false</span>
                <span class="nv">showCloseButton: </span><span class="kc">true</span>


        <span class="nv">setupEvents: </span><span class="o">=&gt;</span></pre></div></td></tr><tr id="section-6"><td class="docs"><div class="pilwrap"><a href="#section-6" class="pilcrow">&#182;</a></div><p>Set callbacks for DOM events we are interested in</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">@modal</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s">&#39;hide&#39;</span><span class="p">,</span> <span class="nx">@unloadWidget</span><span class="p">)</span>
            <span class="nx">@modal</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s">&#39;shown&#39;</span><span class="p">,</span> <span class="nx">@setDefaultFocus</span><span class="p">)</span>
            <span class="nx">@pipe</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s">&#39;/modal&#39;</span><span class="p">,</span> <span class="nx">@insertWidget</span><span class="p">)</span>
            <span class="nx">@pipe</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s">&#39;/closemodal&#39;</span><span class="p">,</span> <span class="nx">@close</span><span class="p">)</span>

        <span class="nv">empty: </span><span class="nf">-&gt;</span>
            <span class="nx">@body</span><span class="p">.</span><span class="nx">empty</span><span class="p">()</span>

        <span class="nv">show: </span><span class="nf">(display = &#39;show&#39;) -&gt;</span></pre></div></td></tr><tr id="section-7"><td class="docs"><div class="pilwrap"><a href="#section-7" class="pilcrow">&#182;</a></div><p>Pass arguments directly to the modal jquery widget.
If display is object, then pass options to the modal.
Our modals support custom params, sucha as <code>showCloseButton</code>.
@param {String} [display] - 'show' or 'hide' the modal window.
@param {Boolean} [display.showCloseModal] - if true, we will hide the close button else we will show it.</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="nx">display</span> <span class="o">is</span> <span class="s">&#39;hide&#39;</span>
                <span class="nx">@modal</span><span class="p">.</span><span class="nx">modal</span> <span class="s">&#39;hide&#39;</span></pre></div></td></tr><tr id="section-8"><td class="docs"><div class="pilwrap"><a href="#section-8" class="pilcrow">&#182;</a></div><p>Also remove the modal from the element to make sure no config gets left behind.</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">delete</span> <span class="nx">@modal</span><span class="p">.</span><span class="nx">data</span><span class="p">().</span><span class="nx">modal</span></pre></div></td></tr><tr id="section-9"><td class="docs"><div class="pilwrap"><a href="#section-9" class="pilcrow">&#182;</a></div><p>TODO Also remove listener on <code>ESC</code> key and click on backdrop</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">return</span>

            <span class="k">if</span> <span class="nx">display</span> <span class="o">is</span> <span class="s">&#39;show&#39;</span></pre></div></td></tr><tr id="section-10"><td class="docs"><div class="pilwrap"><a href="#section-10" class="pilcrow">&#182;</a></div><p>Use default params for showing the modal.
Make sure jquery.modal uses default params when shown.</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nv">display = </span><span class="nx">@defaultModalParams</span>
            <span class="k">else</span> <span class="k">if</span> <span class="nx">$</span><span class="p">.</span><span class="nx">isPlainObject</span> <span class="nx">display</span></pre></div></td></tr><tr id="section-11"><td class="docs"><div class="pilwrap"><a href="#section-11" class="pilcrow">&#182;</a></div><p>merge default modal params into the arguments</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nv">display = </span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span> <span class="p">{},</span> <span class="nx">@defaultModalParams</span><span class="p">,</span> <span class="nx">display</span>
            <span class="k">else</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span> <span class="s">&quot;Unexpected param for ModalWindowWidget@show() </span><span class="si">#{</span><span class="nx">display</span><span class="si">}</span><span class="s">&quot;</span></pre></div></td></tr><tr id="section-12"><td class="docs"><div class="pilwrap"><a href="#section-12" class="pilcrow">&#182;</a></div><p>display the modal</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">@modal</span><span class="p">.</span><span class="nx">modal</span> <span class="nx">display</span></pre></div></td></tr><tr id="section-13"><td class="docs"><div class="pilwrap"><a href="#section-13" class="pilcrow">&#182;</a></div><p>Handle showCloseButton custom variable</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="nx">display</span><span class="p">.</span><span class="nx">showCloseButton</span> <span class="o">is</span> <span class="kc">false</span>
                <span class="nx">@modal</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s">&#39;i.icon-close-modal&#39;</span><span class="p">).</span><span class="nx">hide</span><span class="p">()</span>
            <span class="k">else</span>
                <span class="nx">@modal</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s">&#39;i.icon-close-modal&#39;</span><span class="p">).</span><span class="nx">show</span><span class="p">()</span>


        <span class="nv">setDefaultFocus: </span><span class="o">=&gt;</span></pre></div></td></tr><tr id="section-14"><td class="docs"><div class="pilwrap"><a href="#section-14" class="pilcrow">&#182;</a></div><p>Focus on first "tabbable" element but ignore anchors or buttons</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">$tabbableElement = </span><span class="nx">@modal</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s">&#39;:tabbable:not(a,input.btn):first&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="k">unless</span> <span class="nx">$tabbableElement</span><span class="p">.</span><span class="nx">length</span>
            <span class="nx">$tabbableElement</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span></pre></div></td></tr><tr id="section-15"><td class="docs"><div class="pilwrap"><a href="#section-15" class="pilcrow">&#182;</a></div><p>XXX force the focus to move at the end of the contained text</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nv">val = </span><span class="nx">$tabbableElement</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span>
            <span class="nx">$tabbableElement</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span>

        <span class="nv">validMessage: </span><span class="nf">(message) -&gt;</span></pre></div></td></tr><tr id="section-16"><td class="docs"><div class="pilwrap"><a href="#section-16" class="pilcrow">&#182;</a></div><p>Every message received on the /modal channel should
have html and title attributes</p>
</td><td class="code"><div class="highlight"><pre>            <span class="kc">true</span>

        <span class="nv">insertWidget: </span><span class="nf">(message) =&gt;</span></pre></div></td></tr><tr id="section-17"><td class="docs"><div class="pilwrap"><a href="#section-17" class="pilcrow">&#182;</a></div><p>Insert a new widget in the modal body. The format of the
message is { title: 'Modal Title', 'body': '<html>...' }</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="nx">@validMessage</span>
                <span class="nx">@empty</span><span class="p">()</span>
                <span class="nx">@title</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">title</span><span class="p">)</span>
                <span class="nx">@body</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">html</span><span class="p">)</span>
                <span class="nx">@show</span> <span class="nx">message</span><span class="p">.</span><span class="nx">params</span>
                <span class="nx">@addWidgetName</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span>
                <span class="nx">@pipe</span><span class="p">.</span><span class="nx">publish</span> <span class="s">&#39;/modalshown&#39;</span>

        <span class="nv">addWidgetName: </span><span class="nf">(message) -&gt;</span></pre></div></td></tr><tr id="section-18"><td class="docs"><div class="pilwrap"><a href="#section-18" class="pilcrow">&#182;</a></div><p>Used to add the widget name to the @modal class.
Used only for css styling.
First remove any old classes, on new inject.</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">@modal</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">@addedClass</span><span class="p">)</span> <span class="k">if</span> <span class="nx">@addedClass</span></pre></div></td></tr><tr id="section-19"><td class="docs"><div class="pilwrap"><a href="#section-19" class="pilcrow">&#182;</a></div><p>Add a new class with current data_widget name.</p>
</td><td class="code"><div class="highlight"><pre>            <span class="vi">@addedClass = </span><span class="nx">message</span><span class="p">.</span><span class="nx">data_widget</span>
            <span class="nx">@modal</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">@addedClass</span><span class="p">)</span>


        <span class="nv">close: </span><span class="p">()</span> <span class="o">=&gt;</span>
            <span class="nx">@show</span><span class="p">(</span><span class="s">&#39;hide&#39;</span><span class="p">)</span> <span class="c1"># :)</span>


        <span class="nv">unloadWidget: </span><span class="p">()</span> <span class="o">=&gt;</span></pre></div></td></tr><tr id="section-20"><td class="docs"><div class="pilwrap"><a href="#section-20" class="pilcrow">&#182;</a></div><p>This method is executed every time the modal is hidden.
Remove the widget from the DOM for now by emptying
the modal body</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">@empty</span><span class="p">()</span>
            <span class="nx">@pipe</span><span class="p">.</span><span class="nx">publish</span> <span class="s">&#39;/modalclosed&#39;</span>


    <span class="k">return</span> <span class="nx">ModalWindow</span>

</pre></div></td></tr></tbody></table><div id="generated">generated Mon Aug 05 2013 15:56:40 GMT+0300 (EEST)  </div></div></body></html>